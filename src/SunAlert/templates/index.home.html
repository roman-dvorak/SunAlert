<div style="card">
	<div class="card-body">
		<h4 class="card-title">Home</h4>
		
		<div class="card">
			<h3 class="card-header">Printer jobs</h3>
			<div class="card-body">
				<div class="card">
					<div id="jobs-table"></div>
				</div>	
			</div>
		</div>
		
		<div class="card">
			<h3 class="card-header">Printer jobs - history</h3>
			<div class="card-body">
			</div>			
		</div>
	</div>
</div>



<script type="text/javascript">
	

	//create Tabulator on DOM element with id "example-table"
	var table = new Tabulator("#jobs-table", {
		height:205, // set height of table (in CSS or here), this enables the Virtual DOM and improves render speed dramatically (can be any valid css height value)
		layout:"fitColumns", //fit columns to width of table (optional)
		placeholder:"No Data Set",
		columns:[
			{title:"Job_id", field:"_id.$oid", sorter:"string", width:200},
			{title:"File_id", field:"file_id", sorter:"string"},
			{title:"File", field:"file"},
			{title:"State", field:"state", formatter:"string", align:"center", width:100},
			{title:"Created", field:"created", align:"center"},
		],
		rowClick:function(e, row){ //trigger an alert message when the row is clicked
			alert("Row " + row.getData().id + " Clicked!!!!");
		},
	});


	function init_jobs_table() {
		var ajaxConfig = {
			method: "GET", //set request type to Position
			headers: {
				"Content-type": 'application/json; charset=utf-8', //set specific content type
			}
		};

    	table.setData("/api/query", {'operation': 'get_queries'}, ajaxConfig);
	}

	init_jobs_table();



</script>